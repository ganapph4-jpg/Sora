<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sora Video Downloader</title>
</head>
<body>
<h1>Sora Video Downloader</h1>
<form id="soraForm">
<input type="url" id="soraUrl" placeholder="Paste Sora URL" required>
<button type="submit">Get Video Link</button>
</form>
<div id="result"></div>
<script>
const form = document.getElementById('soraForm');
const urlInput = document.getElementById('soraUrl');
const resultDiv = document.getElementById('result');

form.addEventListener('submit', async e => {
    e.preventDefault();
    const url = urlInput.value;
    resultDiv.textContent = 'Loading...';

    const res = await fetch('/get-sora-link', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({url})
    });

    const data = await res.json();
    if(res.ok && data.download_link){
        resultDiv.innerHTML = `<a href="${data.download_link}" target="_blank">Download Video</a>`;
    } else {
        resultDiv.textContent = data.error || 'Failed';
    }
});
</script>
</body>
</html>
